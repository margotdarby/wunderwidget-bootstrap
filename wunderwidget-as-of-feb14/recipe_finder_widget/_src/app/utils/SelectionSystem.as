package app.utils{import flash.display.Sprite;import flash.events.MouseEvent;import app.interfaces.SelectionSystemItem;public class SelectionSystem extends Sprite {	//-------------------------------------------------------------// PRIVATE VARIABLES//-------------------------------------------------------------	protected var _currentItem:SelectionSystemItem;	//-------------------------------------------------------------// CONSTRUCTOR//-------------------------------------------------------------			public function SelectionSystem()	{		addEventListeners();	}//-------------------------------------------------------------// PRIVATE METHODS	//-------------------------------------------------------------	public function addEventListeners():void	{		addEventListener(MouseEvent.CLICK, clickHandler, false, 0, true);		addEventListener(MouseEvent.MOUSE_OVER, mouseOverHandler, false, 0, true);		addEventListener(MouseEvent.MOUSE_OUT, mouseOutHandler, false, 0, true);	}//-------------------------------------------------------------// EVENT HANDLERS//-------------------------------------------------------------	protected function clickHandler(evt:MouseEvent):void	{		if(evt.target is SelectionSystemItem)		{						evt.target.mouseEnabled = false;			evt.target.buttonMode = false;						if(_currentItem) 			{				Sprite(_currentItem).mouseEnabled = true;				Sprite(_currentItem).buttonMode = true;				_currentItem.out();			}						_currentItem = SelectionSystemItem(evt.target);		}				//evt.stopPropagation();		}//-------------------------------------------------------------		protected function mouseOverHandler(evt:MouseEvent):void	{		if (evt.target is SelectionSystemItem) evt.target.over();	}//-------------------------------------------------------------		protected function mouseOutHandler(evt:MouseEvent):void	{		if (evt.target is SelectionSystemItem && evt.target.mouseEnabled) evt.target.out();	}	//-------------------------------------------------------------// GETTER / SETTERS//-------------------------------------------------------------	//-------------------------------------------------------------// PROTECTED METHODS//-------------------------------------------------------------//-------------------------------------------------------------// PUBLIC METHODS//-------------------------------------------------------------	public function showInitialItem(id:uint):void 	{		//_items[id].dispatchEvent(new MouseEvent(MouseEvent.MOUSE_OVER));		//_items[id].dispatchEvent(new MouseEvent(MouseEvent.CLICK));	}		public function destroy():void 	{		removeEventListener(MouseEvent.CLICK, clickHandler, false);		removeEventListener(MouseEvent.MOUSE_OVER, mouseOverHandler, false);		removeEventListener(MouseEvent.MOUSE_OUT, mouseOutHandler, false);	}		public function clearItems():void 	{		Sprite(_currentItem).mouseEnabled = true;		Sprite(_currentItem).buttonMode = true;				_currentItem.out();	}	//-------------------------------------------------------------// END OF CLASS	//-------------------------------------------------------------}}